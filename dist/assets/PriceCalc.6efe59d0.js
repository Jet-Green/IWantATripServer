import{_ as z,i as D,b as v,o as _,c as h,d as t,w as p,F as C,B as L,v as x,e as f,g as r,t as M,l as k,f as K,K as T,L as q}from"./index.8641a54d.js";const c=m=>(T("data-v-89e09fa2"),m=m(),q(),m),G=c(()=>r("h1",null,"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B",-1)),H=c(()=>r("span",{class:"mdi mdi-minus",style:{cursor:"pointer"}},null,-1)),J=c(()=>r("span",{class:"mdi mdi-12px mdi-plus"},null,-1)),Q=k(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u044B "),W=c(()=>r("h1",null,"\u0413\u0440\u0443\u043F\u043F\u043E\u0432\u044B\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B",-1)),X=c(()=>r("span",{class:"mdi mdi-minus",style:{cursor:"pointer"}},null,-1)),Y=c(()=>r("span",{class:"mdi mdi-12px mdi-plus"},null,-1)),Z=k(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u044B "),ee=c(()=>r("h1",null,"\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",-1)),le=c(()=>r("span",null,"\u0414\u043E",-1)),te=c(()=>r("span",null,"\u0447\u0435\u043B\u043E\u0432\u0435\u043A",-1)),ae=c(()=>r("span",null,"\u041C\u0438\u043D. \u043A\u043E\u043B-\u0432\u043E \u0447\u0435\u043B\u043E\u0432\u0435\u043A",-1)),se=c(()=>r("span",{class:"mdi mdi-minus",style:{cursor:"pointer"}},null,-1)),oe=c(()=>r("span",{class:"mdi mdi-12px mdi-plus"},null,-1)),ne=k(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u0438\u0434\u044B \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 "),pe={class:"slidecontainer"},re={__name:"PriceCalc",setup(m){const P="/trips";let l=D({people:5,maxPeople:19,indCost:[],groupCost:[],transport:[]});const R=()=>{l.indCost.push({type:"",price:""})},w=()=>{l.groupCost.push({type:"",price:""})},B=()=>{l.transport.push({type:"",peopleRange:0,price:"",minPeople:1}),console.log(l.transport)},V=a=>{let e=l.indCost.indexOf(a);e!==-1&&l.indCost.splice(e,1)},A=a=>{let e=l.groupCost.indexOf(a);e!==-1&&l.groupCost.splice(e,1)},E=a=>{let e=l.transport.indexOf(a);e!==-1&&l.transport.splice(e,1)};let y={};const O=a=>{l.people=a},$=a=>{Object.keys(a).map(e=>delete a[e])},F=a=>{var e=0;return l.indCost.forEach(function(o,d){e=e+o.price}),e},I=a=>{var e=0;return l.groupCost.forEach(function(o,d){e=e+o.price}),e},S=a=>{var e=[],o=[];l.transport.forEach(function(u,i){e[i]=u.peopleRange,o[i]=u.price});for(let u of e)if(u>=l.people){var d=o[e.indexOf(u)];break}return d},U=()=>{var a=F(l.indCost),e=I(l.groupCost),o=S(l.transport),d=a+(e+o)/l.people;return console.log(a,e,o,d),d},b=()=>{$(y);for(var a=1;a<=l.transport[l.transport.length-1].peopleRange;a++)y[a]=a,l.maxPeople=a;l.transport.forEach(function(e){y[e.peopleRange]={style:{color:"#000000"},label:t("strong",{},e.peopleRange)}})},N=a=>U();return(a,e)=>{const o=v("a-col"),d=v("a-input"),u=v("a-input-number"),i=v("a-button"),g=v("a-row"),j=v("a-slider");return _(),h(C,null,[t(L,{backRoute:P}),t(g,{type:"flex",justify:"center"},{default:p(()=>[t(o,{xs:22,lg:12},{default:p(()=>[t(g,{gutter:[16,128]},{default:p(()=>[t(o,{span:12},{default:p(()=>[G]),_:1}),t(o,{span:12,class:"centrify"},{default:p(()=>[(_(!0),h(C,null,x(f(l).indCost,s=>(_(),h("div",{key:s.type,style:{display:"flex"},align:"baseline",class:"ma-16"},[t(d,{value:s.first,"onUpdate:value":n=>s.first=n,placeholder:"\u0414\u043B\u044F \u043A\u043E\u0433\u043E"},null,8,["value","onUpdate:value"]),t(u,{value:s.price,"onUpdate:value":n=>s.price=n,style:{width:"100%"},placeholder:"\u0426\u0435\u043D\u0430",min:0,step:.01,class:"ml-16 mr-16"},null,8,["value","onUpdate:value","step"]),t(i,{onClick:n=>V(s),shape:"circle"},{default:p(()=>[H]),_:2},1032,["onClick"])]))),128)),t(i,{type:"dashed",block:"",onClick:R,class:"ma-8"},{default:p(()=>[J,Q]),_:1})]),_:1}),t(o,{span:12},{default:p(()=>[W]),_:1}),t(o,{span:12,class:"centrify"},{default:p(()=>[(_(!0),h(C,null,x(f(l).groupCost,s=>(_(),h("div",{key:s.type,style:{display:"flex"},align:"baseline",class:"ma-16"},[t(d,{value:s.first,"onUpdate:value":n=>s.first=n,placeholder:"\u0414\u043B\u044F \u043A\u043E\u0433\u043E"},null,8,["value","onUpdate:value"]),t(u,{value:s.price,"onUpdate:value":n=>s.price=n,style:{width:"100%"},placeholder:"\u0426\u0435\u043D\u0430",min:0,step:.01,class:"ml-16 mr-16"},null,8,["value","onUpdate:value","step"]),t(i,{onClick:n=>A(s),shape:"circle"},{default:p(()=>[X]),_:2},1032,["onClick"])]))),128)),t(i,{type:"dashed",block:"",onClick:w,class:"ma-8"},{default:p(()=>[Y,Z]),_:1})]),_:1}),t(o,{span:12},{default:p(()=>[ee]),_:1}),t(o,{span:12,class:"centrify"},{default:p(()=>[(_(!0),h(C,null,x(f(l).transport,s=>(_(),K(g,{style:{display:"flex"},class:"ma-16"},{default:p(()=>[t(o,{span:24},{default:p(()=>[t(d,{value:s.type,"onUpdate:value":n=>s.type=n,style:{width:"49%"},placeholder:"\u0412\u0438\u0434 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430"},null,8,["value","onUpdate:value"]),t(u,{value:s.price,"onUpdate:value":n=>s.price=n,style:{width:"49%"},placeholder:"\u0426\u0435\u043D\u0430",min:0,step:.01},null,8,["value","onUpdate:value","step"])]),_:2},1024),t(o,{span:24,class:"tprice"},{default:p(()=>[le,t(u,{controls:!1,value:s.peopleRange,"onUpdate:value":n=>s.peopleRange=n,valueModifiers:{lazy:!0},style:{width:"25%"},placeholder:"1",min:0,onChange:e[0]||(e[0]=n=>b(a.value))},null,8,["value","onUpdate:value"]),te,ae,t(u,{controls:!1,value:s.minPeople,"onUpdate:value":n=>s.minPeople=n,valueModifiers:{lazy:!0},style:{width:"25%"},placeholder:"1",min:0,onChange:e[1]||(e[1]=n=>b(a.value))},null,8,["value","onUpdate:value"]),t(i,{onClick:n=>E(s),shape:"circle"},{default:p(()=>[se]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256)),t(i,{type:"dashed",block:"",onClick:B,class:"ma-8"},{default:p(()=>[oe,ne]),_:1}),r("h1",null,"\u0418\u0442\u043E\u0433\u043E: "+M(U()),1)]),_:1}),t(o,{span:24},{default:p(()=>[r("div",pe,[t(j,{modelValue:f(l).people,"onUpdate:modelValue":e[2]||(e[2]=s=>f(l).people=s),min:1,max:f(l).maxPeople,class:"slider",tooltipVisible:!0,marks:f(y),onAfterChange:O,included:!1,tipFormatter:N},null,8,["modelValue","max","marks"])])]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},ue=z(re,[["__scopeId","data-v-89e09fa2"]]);export{ue as default};
