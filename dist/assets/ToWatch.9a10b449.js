import{$ as U,A as T,k as y,r as W,a as d,o as f,c as C,d as c,b as e,w as t,s as w,u as b,v as F,F as S,e as _,z as D,p as G,t as P,C as Q,B as A,q as L}from"./index.e3ff018b.js";import{_ as N}from"./ImageCropper.84703fb1.js";const M={async fetchElementsByQuery(n){return U.get(`/guide/get-all-elements?name=${n}`)},async createGuideElement(n,o){return U.post(`/guide/create-element?name=${o}`,n,{headers:{"Content-Type":"multipart/form-data"}})}},z=T("guide",{state:()=>({toWatch:[]}),getters:{getTrips(n){return n.trips},getWhereToGo(n){return n.whereToGo}},actions:{async fetchElementsByQuery(n){try{const o=await M.fetchElementsByQuery(n);console.log(o),this[n]=o.data}catch(o){console.log(o)}},async createGuideElement(n,o){try{const i=await M.createGuideElement(n,o);console.log(i)}catch(i){console.log(i)}}}}),O=["onSubmit"],R=_(" \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 "),V=c("span",{class:"mdi mdi-12px mdi-plus"},null,-1),q=_(" \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0444\u043E\u0442\u043E "),I={class:"d-flex ma-2",style:{"overflow-x":"scroll"}},H=["src"],J=c("h3",null,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0444\u043E\u0442\u043E?",-1),K={class:"d-flex justify-center"},X=_("\u0414\u0430 "),Y=_(" \u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 "),Z=_(" \u0410\u0434\u0440\u0435\u0441 "),ee=_(" \u0422\u0435\u043B\u0435\u0444\u043E\u043D "),te=_(" \u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0435 \u0441\u0435\u0442\u0438 "),ae=_("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"),se={__name:"AddGuideElement",setup(n){const o=z();let i=y(!1),u=y(!1),v=y(null),x=y();const s=W({image:"",name:"",address:"",phone:"",socialMedia:"",description:""});function h(r){i.value=!1;const a=URL.createObjectURL(r);x.value=a,s.image=r}function g(){x.value="",u.value=!1}function k(){let r=new FormData(v.value);r.set("name",s.name),r.set("address",s.address),r.set("phone",s.phone),r.set("socialMedia",s.socialMedia),r.set("description",s.description),r.set("image",s.image,`${s.name}-${Date.now()}.png`),o.createGuideElement(r,"toWatch")}return(r,a)=>{const p=d("a-input"),m=d("a-col"),$=d("a-button"),E=d("a-modal"),j=d("a-textarea"),B=d("a-row");return f(),C(S,null,[c("form",{action:"POST",onSubmit:F(k,["prevent"]),enctype:"multipart/form-data",ref_key:"newGuideElementForm",ref:v},[e(B,{gutter:[16,16]},{default:t(()=>[e(m,{span:24},{default:t(()=>[R,e(p,{placeholder:"\u041C\u0443\u0437\u0435\u0439",size:"large",value:s.name,"onUpdate:value":a[0]||(a[0]=l=>s.name=l)},null,8,["value"])]),_:1}),e(m,{span:24},{default:t(()=>[e($,{onClick:a[1]||(a[1]=l=>w(i)?i.value=!0:i=!0),class:"mb-8",type:"dashed",block:""},{default:t(()=>[V,q]),_:1}),c("div",I,[c("img",{src:b(x),alt:"",class:"ma-4",style:{"max-width":"200px",cursor:"pointer"},onClick:a[2]||(a[2]=l=>{w(u)?u.value=!0:u=!0})},null,8,H),e(E,{visible:b(u),"onUpdate:visible":a[3]||(a[3]=l=>w(u)?u.value=l:u=l),footer:null},{default:t(()=>[J,c("div",K,[e($,{class:"mt-16",type:"primary",size:"large",onClick:g},{default:t(()=>[X]),_:1})])]),_:1},8,["visible"])])]),_:1}),e(m,{span:24},{default:t(()=>[Y,e(j,{placeholder:"\u0411\u043E\u043B\u0435\u0435 1000 \u044D\u043A\u0441\u043F\u043E\u043D\u044F\u0442\u043E\u0432 \u0438\u0437 25 \u0441\u0442\u0440\u0430\u043D \u043C\u0438\u0440\u0430",rows:4,value:s.description,"onUpdate:value":a[4]||(a[4]=l=>s.description=l)},null,8,["value"])]),_:1}),e(m,{span:24},{default:t(()=>[Z,e(p,{placeholder:"\u041A\u0430\u043B\u0438\u043D\u0438\u043D\u0430 2\u0410",size:"large",value:s.address,"onUpdate:value":a[5]||(a[5]=l=>s.address=l)},null,8,["value"])]),_:1}),e(m,{span:24},{default:t(()=>[ee,e(p,{placeholder:"79127528871",size:"large",value:s.phone,"onUpdate:value":a[6]||(a[6]=l=>s.phone=l)},null,8,["value"])]),_:1}),e(m,{span:24},{default:t(()=>[te,e(p,{placeholder:"https://vk.com/qbitclub",size:"large",value:s.socialMedia,"onUpdate:value":a[7]||(a[7]=l=>s.socialMedia=l)},null,8,["value"])]),_:1})]),_:1}),e(B,{class:"d-flex justify-center"},{default:t(()=>[e(m,null,{default:t(()=>[e($,{type:"primary","html-type":"submit",class:"lets_go_btn mt-8",size:"large"},{default:t(()=>[ae]),_:1})]),_:1})]),_:1})],40,O),e(E,{visible:b(i),"onUpdate:visible":a[8]||(a[8]=l=>w(i)?i.value=l:i=l),footer:null},{default:t(()=>[e(N,{onAddImage:h})]),_:1},8,["visible"])],64)}}};const oe=["src"],le={class:"title"},ne={__name:"GuideCard",props:{element:Object},setup(n){const o=n;return(i,u)=>{const v=d("a-card");return f(),G(v,{hoverable:""},{cover:t(()=>[c("img",{src:o.element.image},null,8,oe)]),default:t(()=>[c("span",le,P(o.element.name),1)]),_:1})}}},ie=D(ne,[["__scopeId","data-v-70bce421"]]),re=c("h2",null,"\u0427\u0442\u043E \u043F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C",-1),ue=_("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"),_e={__name:"ToWatch",setup(n){const o=y(!1),i=z();i.fetchElementsByQuery("toWatch");let u=Q(()=>i.toWatch);const v=()=>{o.value=!o.value};return(x,s)=>{const h=d("a-col"),g=d("a-row"),k=d("a-spin"),r=d("a-modal"),a=d("a-button");return f(),C("div",null,[e(A),e(g,{type:"flex",justify:"center"},{default:t(()=>[e(h,{xs:22,lg:16},{default:t(()=>[re,b(u).length?(f(),G(g,{key:0},{default:t(()=>[(f(!0),C(S,null,L(b(u),p=>(f(),G(h,{lg:5,xs:10,class:"ma-16"},{default:t(()=>[e(ie,{element:p},null,8,["element"])]),_:2},1024))),256))]),_:1})):(f(),G(g,{key:1},{default:t(()=>[e(h,{span:24,class:"d-flex justify-center align-center"},{default:t(()=>[e(k,{size:"large"})]),_:1})]),_:1})),e(r,{visible:o.value,"onUpdate:visible":s[0]||(s[0]=p=>o.value=p),title:"\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435",footer:null},{default:t(()=>[e(se)]),_:1},8,["visible"]),e(a,{type:"",onClick:v},{default:t(()=>[ue]),_:1})]),_:1})]),_:1})])}}};export{_e as default};
