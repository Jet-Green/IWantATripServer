import{h as j,O as K,b as i,e as a,o as s,c as y,d as t,w as e,l as o,t as n,g as l,k,_ as Q,q as G,P as L,Q as q,p as U,r as A,s as M,f as u,v as R,I as W,J as ee,F,T as te,K as se,L as oe,i as ne,H as ae,B as le}from"./index.1fefcd0b.js";const _e={key:0},ce={style:{"font-size":"28px","font-weight":"bold"}},de=o("E-mail"),ue={style:{"font-size":"16px"}},re=o("\u0422\u0435\u043B\u0435\u0444\u043E\u043D"),ie={style:{"font-size":"16px"}},pe=o("\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u043C\u043E\u0435 \u0438\u043C\u044F"),fe={style:{"font-size":"16px"}},me=o("\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0444\u0438\u0440\u043C\u044B"),he={style:{"font-size":"16px"}},ye=o("\u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),ge={style:{"font-size":"16px"}},xe=o("\u042E\u0440. \u0441\u0442\u0430\u0442\u0443\u0441"),ke={style:{"font-size":"16px"}},ve=o("\u0418\u041D\u041D"),$e={style:{"font-size":"16px"}},be={__name:"AboutClient",setup(N){const g=j(),b=K(()=>g.user),r=K(()=>{var v;return(v=g.user)==null?void 0:v.fullinfo});return(v,C)=>{const h=i("a-avatar"),c=i("a-row"),d=i("a-typography-text"),p=i("a-col");return a(r)&&a(b)?(s(),y("div",_e,[t(c,null,{default:e(()=>[t(h,{style:{"margin-right":"8px","font-size":"large","font-weight":"bold"},size:"large"},{default:e(()=>[o(n(a(b).fullname[0]),1)]),_:1}),l("h3",ce,n(a(b).fullname),1)]),_:1}),t(c,{xs:22,md:18,lg:16},{default:e(()=>[t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[de]),_:1}),l("h5",ue,n(a(b).email),1)]),_:1}),t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[re]),_:1}),l("h5",ie,n(a(r).phone),1)]),_:1}),t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[pe]),_:1}),l("h5",fe,n(a(r).fullname),1)]),_:1}),t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[me]),_:1}),l("h5",he,n(a(r).companyName?a(r).companyName:"**********"),1)]),_:1})]),_:1}),t(c,{xs:22,md:18,lg:16},{default:e(()=>[t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[ye]),_:1}),l("h5",ge,n(a(r).creatorsType=="author"?"\u0410\u0432\u0442\u043E\u0440 \u0442\u0443\u0440\u0430":a(r).creatorsType=="operator"?"\u0422\u0443\u0440\u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440":"\u0422\u0443\u0440\u0430\u0433\u0435\u043D\u0441\u0442\u0432\u043E"),1)]),_:1}),t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[xe]),_:1}),l("h5",ke,n(a(r).type=="phys"?"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043B\u0438\u0446\u043E":a(r).type=="company"?"\u042E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043B\u0438\u0446\u043E":"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C"),1)]),_:1}),t(p,{xs:11,md:8,lg:5},{default:e(()=>[t(d,{type:"secondary"},{default:e(()=>[ve]),_:1}),l("h5",$e,n(a(r).govermentRegNumber?a(r).govermentRegNumber:"**********"),1)]),_:1})]),_:1})])):k("",!0)}}};const H=N=>(se("data-v-c043765f"),N=N(),oe(),N),Ce=o("\u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),Te=o("\u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435"),we=o("\u0434\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430"),Se=o("\u0434\u0430\u0442\u0430 \u043A\u043E\u043D\u0446\u0430"),ze=o("\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F"),Be=["src","onClick"],Ne={class:"actions"},De=H(()=>l("span",{class:"mdi mdi-delete",style:{color:"red",cursor:"pointer"}},null,-1)),Ie=H(()=>l("span",{class:"mdi mdi-pen",style:{color:"#245159",cursor:"pointer"}},null,-1)),Fe={key:0,class:"mdi mdi-eye",style:{color:"#245159",cursor:"pointer"}},He={key:1,class:"mdi mdi-eye-off",style:{color:"#245159",cursor:"pointer"}},Pe={key:0,class:"mdi mdi-content-copy",style:{color:"#245159",cursor:"pointer"}},Re=["onClick"],Ve=H(()=>l("span",{class:"mdi mdi-account-outline",style:{"font-size":"20px"}},null,-1)),je=H(()=>l("span",{class:"mdi mdi-phone-outline",style:{"font-size":"20px"}},null,-1)),Ee={key:0,style:{color:"#BCC662"}},Oe=H(()=>l("span",{class:"mdi mdi-check-all",style:{"font-size":"20px"}},null,-1)),Ae=o(" \u043E\u043F\u043B\u0430\u0447\u0435\u043D "),Me=[Oe,Ae],Je={key:1,style:{display:"flex","align-items":"center"}},Ke=H(()=>l("span",{class:"mdi mdi-close",style:{"font-size":"20px"}},null,-1)),Qe=o(" \u043D\u0435 \u043E\u043F\u043B\u0430\u0447\u0435\u043D "),Ge=[Ke,Qe],Ue=H(()=>l("span",{class:"mdi mdi-account-group",style:{"font-size":"20px"}},null,-1)),We=H(()=>l("span",{class:"mdi mdi-cash",style:{"font-size":"20px"}},null,-1)),Xe={__name:"CreatedTrips",setup(N){let g=j(),b=G(),v=L(q).smaller("md"),C=U(),h=A([]),c=K(()=>g.user.trips);function d(f){b.push(`/trip?_id=${f}`)}async function p(f){let{response:S}=await C.deleteById(f),{status:_}=S;if(_!="400")for(let x=0;x<h.value.length;x++)h.value[x]._id==f&&h.value.splice(x,1)}function D(f){b.push(`/edit-trip?_id=${f}`)}function B(f){b.push(`/create-no-help?_id=${f}`)}async function $(f){for(let S of h.value)S._id==f&&(S.isHidden=!S.isHidden,te.hideTrip(f,S.isHidden))}let T=A([]);function w(f){T.value[f]=!T.value[f]}const V=f=>new Date(Number(f)).toLocaleDateString("ru-Ru",{year:"2-digit",month:"2-digit",day:"2-digit"});return A([]),M(async()=>{for(let f of c.value){let S=await C.getById(f);if(S.data){let _=S.data.billsList,x=[];for(let I of _)x.push(I.userId);if(x.length){let{data:I}=await C.getCustomers(x);S.data.customers=I}h.value.push(S.data),T.value.push(!1)}}}),(f,S)=>{const _=i("a-col"),x=i("a-row"),I=i("a-popconfirm"),X=i("a-divider"),Y=i("a-card"),Z=i("a-popover");return s(),u(x,null,{default:e(()=>[t(_,{span:24},{default:e(()=>[t(x,{class:"table_header"},{default:e(()=>[t(_,{md:2,xs:4}),t(_,{md:8,xs:12},{default:e(()=>[Ce]),_:1}),a(v)?k("",!0):(s(),u(_,{key:0,md:4},{default:e(()=>[Te]),_:1})),a(v)?k("",!0):(s(),u(_,{key:1,md:3},{default:e(()=>[we]),_:1})),a(v)?k("",!0):(s(),u(_,{key:2,md:3},{default:e(()=>[Se]),_:1})),t(_,{md:4,xs:8},{default:e(()=>[ze]),_:1})]),_:1}),a(h).length>0?(s(!0),y(F,{key:0},R(a(h),(m,E)=>(s(),u(x,{key:E,class:W(["mt-4 pa-8",[E%2?"odd":"even",m.isHidden?"overlay":""]])},{default:e(()=>[t(_,{md:2,xs:4},{default:e(()=>[l("img",{src:m.images[0],onClick:z=>d(m._id)},null,8,Be)]),_:2},1024),t(_,{md:8,xs:12,onClick:z=>d(m._id)},{default:e(()=>[o(n(m.name),1)]),_:2},1032,["onClick"]),a(v)?k("",!0):(s(),u(_,{key:0,md:4},{default:e(()=>[o(n(m.location),1)]),_:2},1024)),a(v)?k("",!0):(s(),u(_,{key:1,md:3},{default:e(()=>[o(n(V(m.start)),1)]),_:2},1024)),a(v)?k("",!0):(s(),u(_,{key:2,md:3},{default:e(()=>[o(n(V(m.end)),1)]),_:2},1024)),t(_,{md:4,xs:8},{default:e(()=>[l("div",Ne,[!m.billsList.length>0?(s(),u(I,{key:0,title:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?","ok-text":"\u0414\u0430","cancel-text":"\u041D\u0435\u0442",onConfirm:z=>p(m._id)},{default:e(()=>[De]),_:2},1032,["onConfirm"])):k("",!0),t(I,{title:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?","ok-text":"\u0414\u0430","cancel-text":"\u041D\u0435\u0442",onConfirm:z=>D(m._id)},{default:e(()=>[Ie]),_:2},1032,["onConfirm"]),t(I,{title:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?","ok-text":"\u0414\u0430","cancel-text":"\u041D\u0435\u0442",onConfirm:z=>$(m._id)},{default:e(()=>[m.isHidden?(s(),y("span",He)):(s(),y("span",Fe))]),_:2},1032,["onConfirm"]),t(I,{title:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?","ok-text":"\u0414\u0430","cancel-text":"\u041D\u0435\u0442",onConfirm:z=>B(m._id)},{default:e(()=>[m.isHidden?k("",!0):(s(),y("span",Pe))]),_:2},1032,["onConfirm"]),l("span",{class:"mdi mdi-information-outline",onClick:z=>w(E)},null,8,Re)])]),_:2},1024),t(ee,{name:"fade"},{default:e(()=>[a(T)[E]?(s(),u(_,{key:0,span:24},{default:e(()=>[t(x,{style:{display:"flex","justify-content":"space-between"}},{default:e(()=>[(s(!0),y(F,null,R(m.billsList,(z,J)=>(s(),u(_,{xs:24,md:12,lg:8,class:"pa-4"},{default:e(()=>[t(Z,{placement:"bottom",trigger:"click"},{content:e(()=>[t(x,null,{default:e(()=>[(s(!0),y(F,null,R(z.cart,P=>(s(),u(_,{span:24},{default:e(()=>[o(n(P.costType)+" "+n(P.cost)+" \u0440\u0443\u0431. "+n(P.count)+" \u0448\u0442. ",1),z.cart.length>1?(s(),u(X,{key:0,class:"ma-0"})):k("",!0)]),_:2},1024))),256))]),_:2},1024)]),default:e(()=>[m.customers[J]?(s(),u(Y,{key:0,hoverable:"",class:"pa-8"},{default:e(()=>[t(x,null,{default:e(()=>[t(_,{span:12},{default:e(()=>[t(x,null,{default:e(()=>[t(_,{span:24},{default:e(()=>[Ve,o(" "+n(m.customers[J].fullname),1)]),_:2},1024),t(_,{span:24},{default:e(()=>[je,o(" "+n(m.customers[J].phone),1)]),_:2},1024),t(_,{span:24},{default:e(()=>[l("b",null,[z.isBoughtNow?(s(),y("span",Ee,Me)):(s(),y("span",Je,Ge))])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(_,{span:12},{default:e(()=>[z.cart?(s(),u(x,{key:0},{default:e(()=>[t(_,{span:24},{default:e(()=>[Ue,o(" "+n(z.cart.reduce((P,O)=>P+O.count,0)),1)]),_:2},1024),t(_,{span:24},{default:e(()=>[We,o(" "+n(z.cart.reduce((P,O)=>P+O.cost*O.count,0))+" \u20BD ",1)]),_:2},1024)]),_:2},1024)):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)):k("",!0)]),_:2},1024)]),_:2},1032,["class"]))),128)):k("",!0)]),_:1})]),_:1})}}},Ye=Q(Xe,[["__scopeId","data-v-c043765f"]]);const Ze=o("\u0442\u0443\u0440"),Le=o("\u0437\u0430\u043A\u0430\u0437\u0430\u043D"),qe=o("\u043E\u043F\u043B\u0430\u0447\u0435\u043D"),et=o("\u0434\u0430"),tt=o("\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u044C"),st={__name:"PurchasedTrips",setup(N){const g=j(),b=U();let r=ne([]);const v=async()=>{if(g.user.boughtTrips)for(let C=0;C<g.user.boughtTrips.length;C++)await b.getById(g.user.boughtTrips[C].tripId).then(h=>{r.push(h.data)})};return M(()=>{v()}),(C,h)=>{const c=i("a-col"),d=i("a-row"),p=i("a-button"),D=i("a-divider");return s(),y("div",null,[t(d,null,{default:e(()=>[t(c,{span:24},{default:e(()=>[t(d,{class:"table_header"},{default:e(()=>[t(c,{md:12,xs:24},{default:e(()=>[Ze]),_:1}),t(c,{md:8,xs:12},{default:e(()=>[Le]),_:1}),t(c,{md:4,xs:12},{default:e(()=>[qe]),_:1})]),_:1}),(s(!0),y(F,null,R(a(g).user.boughtTrips,(B,$)=>(s(),u(d,{key:$,class:W(["pt-8",[B.isBoughtNow?"even":"odd"]])},{default:e(()=>[t(c,{md:12,xs:24},{default:e(()=>[o(n(a(r)[$]?a(r)[$].name:"\u043D\u0435\u0442 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F")+" \u0441 "+n(a(r)[$]?a(r)[$].start:"\u043D\u0435\u0442 \u0434\u0430\u0442\u044B"),1)]),_:2},1024),t(c,{md:8,xs:12},{default:e(()=>[(s(!0),y(F,null,R(B.cart,(T,w)=>(s(),y("div",{key:w},[l("b",null,n(T.costType)+":",1),o(" "+n(T.count)+" \u0448\u0442. \u043D\u0430 "+n(T.count*T.cost)+"\u0440\u0443\u0431. ",1)]))),128))]),_:2},1024),B.isBoughtNow?(s(),u(c,{key:0,md:4,xs:12},{default:e(()=>[et]),_:1})):(s(),u(c,{key:1,md:4,xs:12},{default:e(()=>[t(p,null,{default:e(()=>[tt]),_:1})]),_:1})),t(D,{class:"ma-0"})]),_:2},1032,["class"]))),128))]),_:1})]),_:1})])}}},ot=Q(st,[["__scopeId","data-v-95578aee"]]),nt=l("p",null,"\u0421\u043E\u0437\u0434\u0430\u043D\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B",-1),at=[nt],lt={__name:"CreatedObjects",setup(N){return(g,b)=>(s(),y("div",null,at))}},_t=l("b",null,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:",-1),ct=l("br",null,null,-1),dt=l("b",null,"\u0412\u0440\u0435\u043C\u044F:",-1),ut=l("br",null,null,-1),rt=l("b",null,"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435: ",-1),it=l("br",null,null,-1),pt=l("b",null,"\u041E\u0442\u043A\u043B\u0438\u043A\u0438:",-1),ft={__name:"MyCompanions",setup(N){var h;const g=j(),b=ae(),r=(h=g.user)==null?void 0:h.createdCompanions;let v=A();const C=c=>new Date(c).toLocaleDateString();return M(async()=>{let c=[];for(let d of r){const p=await b.getById(d);c.push(p.data)}console.log(c),v.value=c}),(c,d)=>{const p=i("a-col"),D=i("a-row"),B=i("a-divider");return s(),y(F,null,[(s(!0),y(F,null,R(a(v),($,T)=>(s(),u(D,{key:T},{default:e(()=>[t(p,{xs:24,md:12},{default:e(()=>[_t,o(" "+n($.description)+" ",1),ct,dt,o(" \u0441 "+n(C($.start))+" \u043F\u043E "+n(C($.end))+" ",1),ut,rt,o(" "+n($.direction)+" ",1),it]),_:2},1024),t(p,{xs:24,md:12},{default:e(()=>[pt,(s(!0),y(F,null,R($.companionRequests,w=>(s(),u(p,{key:w.name,md:24},{default:e(()=>[o(n(w.name)+" "+n(w.surname)+" "+n(w.age)+" \u043B\u0435\u0442 "+n(w.gender)+" "+n(w.phone),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128)),t(B)],64)}}},mt=o(" \u041A\u0430\u0431\u0438\u043D\u0435\u0442 "),yt={__name:"Cabinet",setup(N){const g=j(),b=G(),r=()=>{g.logout(),b.push("/")};return M(()=>{}),(v,C)=>{const h=i("a-col"),c=i("a-row"),d=i("a-tab-pane"),p=i("a-tabs");return s(),y("div",null,[t(le),t(c,{type:"flex",justify:"center"},{default:e(()=>[t(h,{xs:22,sm:12},{default:e(()=>[l("h2",null,[mt,l("span",{onClick:C[0]||(C[0]=D=>r()),class:"mdi mdi-24px mdi-logout",style:{cursor:"pointer",float:"right"}})])]),_:1})]),_:1}),t(c,{type:"flex",justify:"center"},{default:e(()=>[t(h,{xs:22,lg:16},{default:e(()=>[t(p,null,{default:e(()=>{var D,B,$,T,w,V;return[t(d,{key:"1",tab:"\u041E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435"},{default:e(()=>[t(be)]),_:1}),(B=(D=a(g).user)==null?void 0:D.trips)!=null&&B.length?(s(),u(d,{key:"2",tab:"\u0421\u043E\u0437\u0434\u0430\u043D\u043D\u044B\u0435 \u0442\u0443\u0440\u044B"},{default:e(()=>[t(Ye)]),_:1})):k("",!0),t(d,{key:"3",tab:"\u041A\u0443\u043F\u043B\u0435\u043D\u043D\u044B\u0435 \u0442\u0443\u0440\u044B"},{default:e(()=>[t(ot)]),_:1}),(T=($=a(g).user)==null?void 0:$.guideElements)!=null&&T.length?(s(),u(d,{key:"4",tab:"\u0421\u043E\u0437\u0434\u0430\u043D\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B"},{default:e(()=>[t(lt)]),_:1})):k("",!0),(V=(w=a(g).user)==null?void 0:w.createdCompanions)!=null&&V.length?(s(),u(d,{key:"5",tab:"\u041F\u043E\u043F\u0443\u0442\u0447\u0438\u043A\u0438"},{default:e(()=>[t(ft)]),_:1})):k("",!0)]}),_:1})]),_:1})]),_:1})])}}};export{yt as default};
